version: "2.0"

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true ######################


#USER INTENTS:
intents:
  - greet
  - stop
  - thanks
  - affirm
  - deny
  - bot_challenge
  #product info:
  - inform_p_code
  - inform_text
  - ask_supplier
  #inventory & orders:
  - ask_giacenza
  - ask_add_to_order
  #warehouse:
  - ask_wh_upd
  - inform_num_pieces
  - inform_add_pieces
  - inform_decr_pieces
  #orders:
  - inform_need_order
  - ask_read
  - ask_new


#ENTITIES:
entities:
  - p_code
  - p_text
  - s_text
  - pieces


#SLOTS:
slots:
  #product identification:
  p_code:
    type: float
    influence_conversation: False
    min_value: 0
    #max_value: 
    #initial_value: null
    #auto_fill: True
  
  p_name:
    type: text
    influence_conversation: False

  supplier:
    type: text
    influence_conversation: False

  p_text:
    type: text
    influence_conversation: False

  s_text:
    type: text
    influence_conversation: False

  #warehouse:
  variation:
    type: text
    influence_conversation: False

  quantity:
    type: text
    influence_conversation: False
    
  pieces:
    type: float
    influence_conversation: False
    min_value: 0
    max_value: 100

  check:
    type: bool
    influence_conversation: False

  add_to_order:
    type: bool
    influence_conversation: False

  next:
    type: bool
    influence_conversation: False

  more:
    type: bool
    influence_conversation: False

  #orders:
  ord_code:
    type: float
    influence_conversation: False
    min_value: 0

  ord_date:
    type: text
    influence_conversation: False

  ord_list:
    type: text
    influence_conversation: False

  s_check:
    type: bool
    influence_conversation: False

  use_existing:
    type: bool
    influence_conversation: False

  read:
    type: bool
    influence_conversation: False

  keep:
    type: bool
    influence_conversation: False

  proactive:
    type: bool
    influence_conversation: False

  threshold:
    type: float
    influence_conversation: False
    min_value: 0


#AGENT'S RESPONSES:
responses:
  utter_greet:
  - text: "Ciao!"
  - text: "Ciao a te!"
  #- text: "Hey, {name}! How is your day going?"
  #can add more alternative responses (one will be selected randomly).

  utter_happy:
  - text: "Ottimo! Buon lavoro."

  utter_welcome:
  - text: "Di nulla!"
  - text: "Nulla!"
  - text: "Figurati!"
  - text: "Ma di nulla!"
  - text: "Ma figurati!"

  utter_available:
  - text: "Se ti serve altro mi trovi qui quando vuoi!"
  - text: "Se ti serve altro mi trovi qui."
  - text: "Resto a disposizione!"
  - text: "Chiamami pure quando vuoi!"
  - text: "Alla prossima!"

  utter_ready:
  - text: "Sono pronto!"
  - text: "Certo!"
  - text: "Subito!"
  - text: "Certamente!"
  - text: "Va benissimo!"

  utter_ok:
  - text: "Ok!"
  - text: "Perfetto!"
  - text: "Ricevuto!"
  - text: "Va benissimo!"

  utter_iamabot:
  - text: "Sono Herbie, il tuo shop manager digitale. Sono qui per aiutarti!"

  utter_done:
  - text: "Missione compiuta!"
  - text: "Fatto!"
  - text: "Fatto! Tutto settato."

  utter_repeat:
  - text: "Potresti ripetere?"
  - text: "Puoi riprovare?"
  - text: "Prova a precisare!"
  - text: "Riprova da capo!"

  utter_specify:
  - text: "Prova a specificare meglio!"
  - text: "A quale ti riferisci?"
  - text: "A quale di questi ti riferisci?"

#product info:
  utter_ask_p_text:
  - text: "Dimmi il prodotto!"
  - text: "Dimmi pure il prodotto!"
  - text: "Vai col prodotto!"

  utter_wrong_p_text:
  - text: "Mi ripeteresti il nome?"

#warehouse:
  utter_ask_variation:
  - text: "Mi dici la variazione dei pezzi?"
  - text: "Variazione?"

  utter_ask_next:
  - text: "Continuiamo?"

  utter_ask_more:
  - text: "Cosa vuoi che faccia?"
  - text: "Cosa ti può servire?"
  - text: "Ti può servire qualcosa?"

  utter_ask_add_to_order:
  - text: "Vuoi che te lo segni come da ordinare?"
  - text: "Lo includo nel prossimo ordine?"
  - text: "Te lo metto in lista per il prossimo ordine?"

#orders:
  utter_ask_s_text:
  - text: "Mi diresti il nome del produttore?"
  - text: "Qual è il produttore?"
  - text: "Dimmi il nome del produttore!"
  - text: "Quale produttore?"
  
  utter_ready_to_order:
  - text: "Sono pronto a preparare l'ordine per {supplier}!"
  - text: "Prepariamo l'ordine per {supplier}!"

  utter_ask_read:
  - text: "Vuoi che te la rilegga prima di andare avanti?"
  - text: "Vuoi che io te la legga prima di andare avanti?"

  utter_guidance_read:
  - text: "Ti leggo i prodotti che abbiamo segnato in lista: dimmi se tenerli o rimuoverli e quanti pezzi vuoi ordinare!"

  utter_guidance_wo:
  - text: "Dimmi i vari prodotti che vuoi aggiungere, uno alla volta. Ti chiederò subito dopo la quantità di pezzi da ordinare!"
  - text: "Dimmi uno per uno i prodotti da inserire in lista. Ti chiederò subito dopo la quantità di pezzi da ordinare!"

  utter_ask_num_pieces:
  - text: "Quanti pezzi?"
  - text: "Quanti pezzi aggiungo?"
  - text: "Quanti pezzi ti ordino?"
  - text: "Numero pezzi?"


#AGENT'S CUSTOM ACTIONS:
actions:
  - action_restart_magazzino_form
  - action_reset_all_slots
  - action_ask_quantity
  - action_ask_use_existing
  - action_ask_keep
  - validate_magazzino_form
  - validate_giacenza_form
  - validate_init_order_form
  - validate_read_order_form
  - validate_write_order_form
  - validate_proactive_form


#FORMS:
forms:
  #1. warehouse update:
  magazzino_form:
    required_slots:
      p_text:
        - type: from_text
      check:
        - type: from_text
      variation:
        - type: from_text
      next:
        - type: from_text

  #2. stock info:
  giacenza_form:
    required_slots:
      p_text:
        - type: from_text
      check:
        - type: from_text
      add_to_order:
        - type: from_text

  #3. make order:
  #3.0. parent forker:
  init_order_form:
    required_slots:
      s_text:
        - type: from_text
      s_check:
        - type: from_text
      use_existing:
        - type: from_text
      read:
        - type: from_text
  
  #3.1.a. system-driven read:
  read_order_form:
    required_slots:
      keep:
        - type: from_text
      quantity:
        - type: from_text

  #3.1.b. user-driven write:
  write_order_form:
    required_slots:
      p_text:
        - type: from_text
      check:
        - type: from_text
      quantity:
        - type: from_text

  #3.2. proactive order suggestions:
  proactive_form:
    required_slots:
      proactive:
        - type: from_text
      threshold:
        - type: from_text

