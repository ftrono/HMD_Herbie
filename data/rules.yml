version: "2.0"

rules:
#general:
- rule: introduce myself
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

#product info:
- rule: ask azienda
  steps:
  - intent: ask_azienda
  - action: action_getprod

# warehouse data:
- rule: find product
  steps:
  - intent: inform_prod
  - action: action_getprod

- rule: activate form magazzino
  steps: 
  - intent: ask_wh_upd
  - action: utter_ok
  - action: form_magazzino
  - active_loop: form_magazzino

- rule: submit form magazzino
  condition:
  - active_loop: form_magazzino
  steps:
  - action: form_magazzino
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: utter_recap
  - action: utter_done

#  - rule: interruption in form