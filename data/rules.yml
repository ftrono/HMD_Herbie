version: "2.0"

rules:
#general:
- rule: introduce myself
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

# #product info:
# - rule: ask azienda
#   steps:
#   - intent: ask_azienda
#   - action: action_getprod

# # validate product:
# - rule: validate product
#   steps:
#   - intent: inform_prod
#   - action: validate_prod

# validate product:
# - rule: call inform_product
#   steps:
#   - action: ask_p_code
#   - intent: inform_prod

- rule: activate form magazzino
  steps:
  - intent: ask_wh_upd
  - action: utter_ok
  - action: magazzino_form
  - active_loop: magazzino_form

- rule: submit form magazzino
  condition:
  - active_loop: magazzino_form
  steps:
  - action: magazzino_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: utter_recap
  - action: utter_done

#  - rule: interruption in form